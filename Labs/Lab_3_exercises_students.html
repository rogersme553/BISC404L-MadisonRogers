<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>lab_2_exercises_students</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Lab_3_exercises_students_files/libs/clipboard/clipboard.min.js"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/popper.min.js"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Lab_3_exercises_students_files/libs/quarto-html/anchor.min.js"></script>
<link href="Lab_3_exercises_students_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Lab_3_exercises_students_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Lab_3_exercises_students_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Lab_3_exercises_students_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Lab_3_exercises_students_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="clear-your-environment" class="level4">
<h4 class="anchored" data-anchor-id="clear-your-environment">0) Clear your environment</h4>
</section>
<section id="using-the-require-or-library-function-load-the-packages-ggplot2ggplot2-dplyrdplyr-and-ratdatratdat-which-contains-the-dataset-complete." class="level4">
<h4 class="anchored" data-anchor-id="using-the-require-or-library-function-load-the-packages-ggplot2ggplot2-dplyrdplyr-and-ratdatratdat-which-contains-the-dataset-complete.">1) Using the <code>require()</code> or <code>library()</code> function, load the packages <code>ggplot2</code><span class="citation" data-cites="ggplot2">[@ggplot2]</span>, <code>dplyr</code><span class="citation" data-cites="dplyr">[@dplyr]</span>, and <code>ratdat</code><span class="citation" data-cites="ratdat">[@ratdat]</span> which contains the dataset <code>complete</code>.</h4>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>Warning: there is no package called ‘ratdat’
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you receive this warning, run <code>install.packages("ratdat")</code> before you run the line <code>require("ratdat")</code></p>
</div>
</div>
</section>
<section id="inspect-the-dataset-complete-from-the-package-ratdat-using-head-summary-and-view" class="level4">
<h4 class="anchored" data-anchor-id="inspect-the-dataset-complete-from-the-package-ratdat-using-head-summary-and-view">2) Inspect the dataset <code>complete</code> from the package <code>ratdat</code> using <code>head()</code>, <code>summary()</code>, and <code>View()</code></h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 13
  record_id month   day  year plot_id species_id sex   hindfoot_length weight
      &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;   &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;           &lt;int&gt;  &lt;int&gt;
1         1     7    16  1977       2 NL         M                  32     NA
2         2     7    16  1977       3 NL         M                  33     NA
3         3     7    16  1977       2 DM         F                  37     NA
4         4     7    16  1977       7 DM         M                  36     NA
5         5     7    16  1977       3 DM         M                  35     NA
6         6     7    16  1977       1 PF         M                  14     NA
# ℹ 4 more variables: genus &lt;chr&gt;, species &lt;chr&gt;, taxa &lt;chr&gt;, plot_type &lt;chr&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>   record_id         month             day             year         plot_id    
 Min.   :    1   Min.   : 1.000   Min.   : 1.00   Min.   :1977   Min.   : 1.0  
 1st Qu.: 8888   1st Qu.: 4.000   1st Qu.: 9.00   1st Qu.:1984   1st Qu.: 5.0  
 Median :17775   Median : 6.000   Median :16.00   Median :1990   Median :11.0  
 Mean   :17775   Mean   : 6.478   Mean   :15.99   Mean   :1990   Mean   :11.4  
 3rd Qu.:26662   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:1997   3rd Qu.:17.0  
 Max.   :35549   Max.   :12.000   Max.   :31.00   Max.   :2002   Max.   :24.0  
                                                                               
  species_id            sex            hindfoot_length     weight      
 Length:35549       Length:35549       Min.   : 2.00   Min.   :  4.00  
 Class :character   Class :character   1st Qu.:21.00   1st Qu.: 20.00  
 Mode  :character   Mode  :character   Median :32.00   Median : 37.00  
                                       Mean   :29.29   Mean   : 42.67  
                                       3rd Qu.:36.00   3rd Qu.: 48.00  
                                       Max.   :70.00   Max.   :280.00  
                                       NA's   :4111    NA's   :3266    
    genus             species              taxa            plot_type        
 Length:35549       Length:35549       Length:35549       Length:35549      
 Class :character   Class :character   Class :character   Class :character  
 Mode  :character   Mode  :character   Mode  :character   Mode  :character  
                                                                            
                                                                            
                                                                            
                                                                            </code></pre>
</div>
</div>
<p><br>
</p>
</section>
<section id="a-based-on-this-inspection-describe-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="a-based-on-this-inspection-describe-the-dataset">3a) Based on this inspection, describe the dataset:</h4>
<pre><code>The dataset contains 31,438 rows and 13 columns describing small mammal observations, including sampling date, plot information, species identity, sex, and morphological measurements such as hindfoot length and weight. The data span multiple years and include some missing values </code></pre>
<p>Here is how we can remove the <code>NA</code> values from the hindfoot length column using <code>dplyr</code> to make this assignment simpler:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Clean data by removing NAs from dataset</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>complete <span class="ot">&lt;-</span> complete <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(hindfoot_length))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="b-refer-to-the-in-class-lab-and-do-not-be-afraid-to-play-with-the-code.-why-did-we-use-filter-to-accomplish-this-why-did-we-not-use-select" class="level4">
<h4 class="anchored" data-anchor-id="b-refer-to-the-in-class-lab-and-do-not-be-afraid-to-play-with-the-code.-why-did-we-use-filter-to-accomplish-this-why-did-we-not-use-select">3b) Refer to the in-class lab and do not be afraid to play with the code. Why did we use <code>filter()</code> to accomplish this? Why did we not use <code>select()</code>?</h4>
<pre><code>filter() was used because it subsets the data by rows based on a condition, whereas select() only works on columns and cannot remove rows with missing values.</code></pre>
</section>
<section id="using-dplyr-create-a-new-dataframe-named-df-consisting-of-only-the-columns-genus-species-and-hindfoot_length-from-the-complete-dataframe-from-the-package-ratdat.-hint-how-do-we-select-certain-columns-using-dplyr" class="level4">
<h4 class="anchored" data-anchor-id="using-dplyr-create-a-new-dataframe-named-df-consisting-of-only-the-columns-genus-species-and-hindfoot_length-from-the-complete-dataframe-from-the-package-ratdat.-hint-how-do-we-select-certain-columns-using-dplyr">4) Using <code>dplyr</code>, create a new dataframe named <code>df</code> consisting of only the columns <code>genus</code>, <code>species</code>, and <code>hindfoot_length</code> from the <code>complete</code> dataframe from the package <code>ratdat</code>. <em>Hint: how do we select certain columns using <code>dplyr</code>?</em></h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> complete <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genus, species, hindfoot_length)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="create-a-new-column-named-genus_species-that-combines-genus-and-species-names-into-a-single-cell-with-an-underscore-as-a-separator-using-the-paste-function-i.e.-if-homo-is-in-the-genus-column-and-sapiens-is-in-the-species-column-the-new-genus_species-column-would-have-homo_sapiens.-refer-to-the-paste-help-file-if-needed.-hint-how-do-we-create-new-columns-using-dplyr" class="level4">
<h4 class="anchored" data-anchor-id="create-a-new-column-named-genus_species-that-combines-genus-and-species-names-into-a-single-cell-with-an-underscore-as-a-separator-using-the-paste-function-i.e.-if-homo-is-in-the-genus-column-and-sapiens-is-in-the-species-column-the-new-genus_species-column-would-have-homo_sapiens.-refer-to-the-paste-help-file-if-needed.-hint-how-do-we-create-new-columns-using-dplyr">5) Create a new column named “genus_species” that combines genus and species names into a single cell with an underscore as a separator using the <code>paste()</code> function (i.e.&nbsp;if <em>Homo</em> is in the genus column, and <em>sapiens</em> is in the species column, the new “genus_species” column would have <em>Homo_sapiens</em>). Refer to the <code>paste()</code> help file if needed. <em>Hint: how do we create new columns using <code>dplyr</code>?</em></h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">genus_species =</span> <span class="fu">paste</span>(genus, species, <span class="at">sep =</span> <span class="st">"_"</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<p>Before contiuning with our data, first let’s learn about the <code>group_by</code> function.</p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>group_by() and ungroup()
</div>
</div>
<div class="callout-body-container callout-body">
<p><code>dplyr</code><span class="citation" data-cites="dplyr">[@dplyr]</span>’s <code>group_by()</code> function is a powerful and convenient way to separate data into groups and perform operations on each group. However, it is important to remember to <strong>always</strong> use <code>ungroup()</code> after you are done with your group operations. This is because <code>group_by()</code> will continue to affect your data until you use <code>ungroup()</code>. This is even more dangerous because visually you will not see any difference in your data after using <code>group_by()</code>.</p>
<p>Here is a dummy dataset for us to play with:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating some dummy data</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>df_dummy <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">group =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">location =</span> <span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"C"</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">number =</span> <span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">2</span>),</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">distance_traveled =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="a-inspect-and-describe-the-dataset" class="level4">
<h4 class="anchored" data-anchor-id="a-inspect-and-describe-the-dataset">6a) Inspect and describe the dataset</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>df_dummy</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>  group location number distance_traveled
1     1        A      5                 1
2     2        A      3                 1
3     3        B      4                 5
4     4        B      6                 6
5     5        C      7                 3
6     6        C      2                 2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df_dummy)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6
Columns: 4
$ group             &lt;dbl&gt; 1, 2, 3, 4, 5, 6
$ location          &lt;chr&gt; "A", "A", "B", "B", "C", "C"
$ number            &lt;dbl&gt; 5, 3, 4, 6, 7, 2
$ distance_traveled &lt;dbl&gt; 1, 1, 5, 6, 3, 2</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df_dummy)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>     group        location             number     distance_traveled
 Min.   :1.00   Length:6           Min.   :2.00   Min.   :1.00     
 1st Qu.:2.25   Class :character   1st Qu.:3.25   1st Qu.:1.25     
 Median :3.50   Mode  :character   Median :4.50   Median :2.50     
 Mean   :3.50                      Mean   :4.50   Mean   :3.00     
 3rd Qu.:4.75                      3rd Qu.:5.75   3rd Qu.:4.50     
 Max.   :6.00                      Max.   :7.00   Max.   :6.00     </code></pre>
</div>
</div>
<pre><code></code></pre>
<p>Our goal is to find total distance traveled in each location and the total count of individuals across groups</p>
<p>First let’s group by location.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Grouping by location</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>df_grouped1 <span class="ot">&lt;-</span> df_dummy <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(location)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</section>
<section id="a-inspect-the-grouped-dataset-and-describe-any-changes-you-see-anywhere-throughout-the-rstudio-interface" class="level4">
<h4 class="anchored" data-anchor-id="a-inspect-the-grouped-dataset-and-describe-any-changes-you-see-anywhere-throughout-the-rstudio-interface">6a) Inspect the grouped dataset and describe any changes you see anywhere throughout the Rstudio interface</h4>
<p>After grouping the dataset by <code>location</code>, there is <strong>no visible change</strong> to the number of rows, columns, or the values shown in the table. The dataset still contains 6 rows and 4 columns with the same summary statistics. The only noticeable change in the RStudio output is the <strong>“Groups: location”</strong> indicator, which shows that the data are now grouped internally even though the table itself looks the same</p>
<pre><code>
Besides the small "Groups: ..." at the top of the output, the data does not appear any different after grouping here.</code></pre>
<p>You are beginning to see why using <code>group_by()</code> without <code>ungroup()</code> can be dangerous.</p>
<p>Now try to meet the goal of finding the distance traveled in each location by creating the column “group_distance” and using the <code>sum()</code> function</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>df_grouped1 <span class="ot">&lt;-</span> df_grouped1 <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group_distance =</span> <span class="fu">sum</span>(distance_traveled))</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>df_grouped1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
# Groups:   location [3]
  group location number distance_traveled group_distance
  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;             &lt;dbl&gt;          &lt;dbl&gt;
1     1 A             5                 1              2
2     2 A             3                 1              2
3     3 B             4                 5             11
4     4 B             6                 6             11
5     5 C             7                 3              5
6     6 C             2                 2              5</code></pre>
</div>
</div>
</section>
<section id="b-inspect-and-describe-the-changes.-is-that-what-we-were-aiming-for-why-or-why-did-it-not-work" class="level4">
<h4 class="anchored" data-anchor-id="b-inspect-and-describe-the-changes.-is-that-what-we-were-aiming-for-why-or-why-did-it-not-work">6b) Inspect and describe the changes. Is that what we were aiming for? Why or why did it not work?</h4>
<pre><code>After creating group_distance, a new column is added that shows the total distance traveled for each location. The value is repeated for both rows within the same location because the data are grouped. This meets the goal of calculating distance by location, but it does not collapse the data to one row per location since mutate() adds values to each row rather than summarizing.</code></pre>
</section>
<section id="c-now-try-to-meet-the-goal-of-finding-the-total-number-of-individuals-across-groups-by-adding-the-column-sum." class="level4">
<h4 class="anchored" data-anchor-id="c-now-try-to-meet-the-goal-of-finding-the-total-number-of-individuals-across-groups-by-adding-the-column-sum.">6c) Now try to meet the goal of finding the total number of individuals across groups by adding the column “sum”.</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df_grouped1 <span class="ot">&lt;-</span> df_grouped1 <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group_distance =</span> <span class="fu">sum</span>(distance_traveled))</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>df_grouped1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
# Groups:   location [3]
  group location number distance_traveled group_distance
  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;             &lt;dbl&gt;          &lt;dbl&gt;
1     1 A             5                 1              2
2     2 A             3                 1              2
3     3 B             4                 5             11
4     4 B             6                 6             11
5     5 C             7                 3              5
6     6 C             2                 2              5</code></pre>
</div>
</div>
</section>
<section id="d-inspect-and-describe-the-changes.-is-that-what-we-were-aiming-for-why-or-why-did-it-not-work" class="level4">
<h4 class="anchored" data-anchor-id="d-inspect-and-describe-the-changes.-is-that-what-we-were-aiming-for-why-or-why-did-it-not-work">6d) Inspect and describe the changes. Is that what we were aiming for? Why or why did it not work?</h4>
<pre><code>After adding the sum column, the dataset still has the same rows and values, but a new column is created that contains the total number of individuals within each location. The sum is calculated separately for locations A, B, and C and repeated for each row in that location. This is not the overall total across all groups because the data are still grouped by location.</code></pre>
<p>We have 3 sum values instead of the desired overall sum!</p>
<p>This is because we did not <code>ungroup()</code> like we <em>always</em> should. So even thought there is no visual difference after using <code>group_by()</code>, not using <code>ungroup()</code> affects your code downstream.</p>
<p>Now try repeating the above process in one pipe (creating new dataframe <code>df_grouped2</code> by grouping <code>df_dummy</code> by location, creating the group_distance column, ungrouping by calling the function <code>ungroup()</code> with no arguments, then creating the sum column).</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df_grouped2 <span class="ot">&lt;-</span> df_dummy <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(location) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group_distance =</span> <span class="fu">sum</span>(distance_traveled)) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sum =</span> <span class="fu">sum</span>(number))</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>df_grouped2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  group location number distance_traveled group_distance   sum
  &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;             &lt;dbl&gt;          &lt;dbl&gt; &lt;dbl&gt;
1     1 A             5                 1              2    27
2     2 A             3                 1              2    27
3     3 B             4                 5             11    27
4     4 B             6                 6             11    27
5     5 C             7                 3              5    27
6     6 C             2                 2              5    27</code></pre>
</div>
</div>
<p>After running the one pipe version, two new columns are added. <code>group_distance</code> gives the total distance traveled within each location, so it is repeated for both rows in the same location. After <code>ungroup()</code>, the <code>sum</code> column is calculated across the entire dataset, so it shows one overall total for all individuals and is the same for every row. This is what we were aiming for because it separates the grouped calculation from the overall calculation.</p>
</section>
</div>
</div>
<p>Now that you have learned about <code>group_by()</code> and the importance of <code>ungroup()</code>, how <em>every time</em> we use <code>group_by()</code> we need to <em>always</em> remember to <code>ungroup()</code>, let’s return to our <code>df</code> dataset.</p>
</section>
<section id="in-our-dataframe-df-create-a-new-column-called-mean_hindfoot-that-takes-the-average-hindfoot-length-grouped-by-species-genus_species" class="level4">
<h4 class="anchored" data-anchor-id="in-our-dataframe-df-create-a-new-column-called-mean_hindfoot-that-takes-the-average-hindfoot-length-grouped-by-species-genus_species">7) In our dataframe <code>df</code>, create a new column called “mean_hindfoot” that takes the average hindfoot length grouped by species (“genus_species”)</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genus_species) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean_hindfoot =</span> <span class="fu">mean</span>(hindfoot_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genus_species, hindfoot_length, mean_hindfoot) <span class="sc">%&gt;%</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   genus_species         hindfoot_length mean_hindfoot
   &lt;chr&gt;                           &lt;int&gt;         &lt;dbl&gt;
 1 Neotoma_albigula                   32          32.3
 2 Neotoma_albigula                   33          32.3
 3 Dipodomys_merriami                 37          36.0
 4 Dipodomys_merriami                 36          36.0
 5 Dipodomys_merriami                 35          36.0
 6 Perognathus_flavus                 14          15.6
 7 Dipodomys_merriami                 37          36.0
 8 Dipodomys_merriami                 34          36.0
 9 Perognathus_flavus                 20          15.6
10 Dipodomys_spectabilis              53          49.9</code></pre>
</div>
</div>
</section>
<section id="similarly-calculate-the-standard-deviation-of-hindfoot-lengths-by-species-in-the-new-column-sd_hindfoot." class="level4">
<h4 class="anchored" data-anchor-id="similarly-calculate-the-standard-deviation-of-hindfoot-lengths-by-species-in-the-new-column-sd_hindfoot.">8) Similarly, calculate the standard deviation of hindfoot lengths by species in the new column <code>sd_hindfoot</code>.</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(genus_species) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sd_hindfoot =</span> <span class="fu">sd</span>(hindfoot_length, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(genus_species, hindfoot_length, sd_hindfoot) <span class="sc">%&gt;%</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   genus_species         hindfoot_length sd_hindfoot
   &lt;chr&gt;                           &lt;int&gt;       &lt;dbl&gt;
 1 Neotoma_albigula                   32        2.13
 2 Neotoma_albigula                   33        2.13
 3 Dipodomys_merriami                 37        1.46
 4 Dipodomys_merriami                 36        1.46
 5 Dipodomys_merriami                 35        1.46
 6 Perognathus_flavus                 14        1.27
 7 Dipodomys_merriami                 37        1.46
 8 Dipodomys_merriami                 34        1.46
 9 Perognathus_flavus                 20        1.27
10 Dipodomys_spectabilis              53        2.08</code></pre>
</div>
</div>
<p>Let’s take the species <em>Dipodomys merriami</em> (Rodentia: Heteromyidae) because it has the highest n in our current data frame.</p>
</section>
<section id="using-ggplot2-in-a-single-pipe-plot-a-histogram-of-d.-merriami-hindfoot-lengths-with-labels." class="level4">
<h4 class="anchored" data-anchor-id="using-ggplot2-in-a-single-pipe-plot-a-histogram-of-d.-merriami-hindfoot-lengths-with-labels.">9) Using <code>ggplot2</code> in a single pipe, plot a histogram of <em>D. merriami</em> hindfoot lengths with labels.</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genus_species <span class="sc">==</span> <span class="st">"Dipodomys_merriami"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> hindfoot_length)) <span class="sc">+</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>) <span class="sc">+</span></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Histogram of Dipodomys merriami Hindfoot Lengths"</span>,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Hindfoot length (mm)"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab_3_exercises_students_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="probability-distributions-and-randomization" class="level1">
<h1>Probability Distributions and Randomization</h1>
<p>Base R has a variety of probability distributions available. Many of them are available in four functions for each distribution by default: random, density, probability, and quantile.</p>
<p>For example, for the normal distribution, the <code>rnorm()</code>, <code>dnorm()</code>, <code>pnorm()</code>, and <code>qnorm()</code> functions are available following the <code>?Normal</code> help file</p>
<p><br>
<img src="images/image-801535382.png" class="img-fluid" width="500"></p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Caution</span>Normal Distribution Defaults
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that by default in R, normal distribution means are set to 0 and standard deviations are set to 1. These values can be changed to fit your needs.</p>
</div>
</div>
<section id="rnorm" class="level2">
<h2 class="anchored" data-anchor-id="rnorm"><code>rnorm()</code></h2>
<p>Let’s draw 300,000 random numbers from a normal distribution.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Randomly draw a number from a normal distribution 300,000 times</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>normal_distribution <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">300000</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>normal_distribution_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">value =</span> normal_distribution) <span class="co"># Convert vector to dataframe</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>normal_distribution_df<span class="sc">$</span>index <span class="ot">&lt;-</span> <span class="fu">seq_along</span>(normal_distribution_df<span class="sc">$</span>value) <span class="co"># Add a numbered column</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate mean and standard deviation</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(normal_distribution_df<span class="sc">$</span>value)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(normal_distribution_df<span class="sc">$</span>value)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="inspect-the-data-using-summary-and-describe-it" class="level4">
<h4 class="anchored" data-anchor-id="inspect-the-data-using-summary-and-describe-it">10) Inspect the data using <code>summary()</code> and describe it</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(normal_distribution_df)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>     value               index       
 Min.   :-4.363458   Min.   :     1  
 1st Qu.:-0.679149   1st Qu.: 75001  
 Median : 0.000247   Median :150000  
 Mean   :-0.001735   Mean   :150000  
 3rd Qu.: 0.672530   3rd Qu.:225000  
 Max.   : 5.603109   Max.   :300000  </code></pre>
</div>
</div>
<pre><code></code></pre>
</section>
<section id="now-plot-the-dataset-using-a-geom_point-scatter-plot" class="level4">
<h4 class="anchored" data-anchor-id="now-plot-the-dataset-using-a-geom_point-scatter-plot">11) Now plot the dataset using a <code>geom_point()</code> scatter plot</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(normal_distribution_df, <span class="fu">aes</span>(<span class="at">x =</span> index, <span class="at">y =</span> value)) <span class="sc">+</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Scatter plot of random draws from a normal distribution"</span>,</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Index"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Value"</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab_3_exercises_students_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="what-are-your-initial-impressions-of-the-shape-and-distribution-of-this-dataset" class="level4">
<h4 class="anchored" data-anchor-id="what-are-your-initial-impressions-of-the-shape-and-distribution-of-this-dataset">12) What are your initial impressions of the shape and distribution of this dataset?</h4>
<pre><code>From the scatter plot, the values appear randomly distributed with no visible trend over the index. Most points cluster around zero, with fewer extreme values as you move away from the center, suggesting a roughly symmetric distribution.</code></pre>
<p>Plot this distribution as a histogram</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><em><strong>Hint</strong>:</em> You will need to include this line in your <code>ggplot</code> pipe:*</p>
<p><code>geom_histogram(bins = 1000) + # This is the number of rectangular bars in our histogram</code></p>
</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(normal_distribution_df, <span class="fu">aes</span>(<span class="at">x =</span> value)) <span class="sc">+</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">1000</span>) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Histogram of random draws from a normal distribution"</span>,</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Value"</span>,</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Count"</span></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Lab_3_exercises_students_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="what-are-your-impressions-of-the-shape-and-distribution-of-this-dataset-now-that-it-is-presented-as-a-histogram-if-your-impression-has-changed-how-is-that-possible" class="level4">
<h4 class="anchored" data-anchor-id="what-are-your-impressions-of-the-shape-and-distribution-of-this-dataset-now-that-it-is-presented-as-a-histogram-if-your-impression-has-changed-how-is-that-possible">13) What are your impressions of the shape and distribution of this dataset now that it is presented as a histogram? If your impression has changed, how is that possible?</h4>
<pre><code>The histogram shows a clear, symmetric, bell-shaped distribution centered around zero. This view makes the overall shape of the data easier to see than the scatter plot, which is why the impression becomes clearer when the data are presented as a histogram.</code></pre>
</section>
</section>
<section id="dnorm" class="level2">
<h2 class="anchored" data-anchor-id="dnorm"><code>dnorm()</code></h2>
<p>What is the probability that a value randomly drawn from this dataset is equal to 2? We can estimate this with the <code>dorm()</code> function:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dnorm</span>(<span class="dv">2</span>, <span class="at">mean =</span> mean, <span class="at">sd =</span> sd)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.05389693</code></pre>
</div>
</div>

<section id="b-gut-check-look-at-the-plot-does-this-number-make-sense-why-or-why-not" class="level4">
<h4 class="anchored" data-anchor-id="b-gut-check-look-at-the-plot-does-this-number-make-sense-why-or-why-not">13b) Gut check: look at the plot, does this number make sense? Why or why not?</h4>
<pre><code>Yes, the value makes sense. The histogram shows that values near 2 occur in the tails of the distribution and are less common than values near the mean, but they are not extremely rare. The density value reflects this lower but reasonable likelihood.</code></pre>
<p>Now let’s return to our <code>df</code> dataset</p>
</section>
<section id="look-back-at-the-histogram-you-produced-earlier-for-d.-merriami-hindfoot-length-visually-what-do-you-think-would-be-a-decent-estimate-of-the-mean-what-about-the-mode" class="level3">
<h3 class="anchored" data-anchor-id="look-back-at-the-histogram-you-produced-earlier-for-d.-merriami-hindfoot-length-visually-what-do-you-think-would-be-a-decent-estimate-of-the-mean-what-about-the-mode">14) Look back at the histogram you produced earlier for <em>D. merriami</em> hindfoot length, <strong>visually</strong> what do you think would be a decent estimate of the mean? What about the mode?</h3>
<p><em>Hint: you can use what we just learned about bin sizes to “zoom” into the data</em></p>
<pre><code>Based on the histogram, a reasonable visual estimate of the mean hindfoot length for Dipodomys merriami is around 36 mm. The mode also appears to be close to 36 mm, as this is where the highest bar in the histogram occurs.</code></pre>
<section id="a-calculate-the-probability-that-a-value-randomly-drawn-from-our-d.-merriami-hindfoot-length-is-equal-to-your-visual-estimate-of-the-mean." class="level4">
<h4 class="anchored" data-anchor-id="a-calculate-the-probability-that-a-value-randomly-drawn-from-our-d.-merriami-hindfoot-length-is-equal-to-your-visual-estimate-of-the-mean.">15a) Calculate the probability that a value randomly drawn from our <em>D. merriami</em> hindfoot length is equal to your visual estimate of the <strong>mean</strong>.</h4>
<div class="callout callout-style-default callout-tip callout-empty-content callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="screen-reader-only">Tip</span><em>Tip: Don’t forget to include the mean and standard deviation calculated earlier in <code>dnorm()</code>.</em>
</div>
</div>
<div class="callout-body-container callout-body">

</div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract mean and sd for hindfoot length</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genus_species <span class="sc">==</span> <span class="st">"Dipodomys_merriami"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_hindfoot =</span> <span class="fu">mean</span>(mean_hindfoot)) <span class="sc">%&gt;%</span> <span class="co"># Reduce to a single value</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(mean_hindfoot) <span class="co"># Extract as a vector</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>sd <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(genus_species <span class="sc">==</span> <span class="st">"Dipodomys_merriami"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">sd_hindfoot =</span> <span class="fu">mean</span>(sd_hindfoot)) <span class="sc">%&gt;%</span> <span class="co"># Reduce to a single value</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(sd_hindfoot) <span class="co"># Extract as a vector</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dnorm</span>(<span class="dv">36</span>, <span class="at">mean =</span> mean, <span class="at">sd =</span> sd)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2724175</code></pre>
</div>
</div>
</section>
<section id="b-from-these-results-do-your-visual-estimates-seem-accurate-why-or-why-not-do-you-think-that-is" class="level4">
<h4 class="anchored" data-anchor-id="b-from-these-results-do-your-visual-estimates-seem-accurate-why-or-why-not-do-you-think-that-is">15b) From these results do your visual estimates seem accurate? Why or why not do you think that is?</h4>
<pre><code>This value is extremely small because the probability of drawing any exact value from a continuous distribution is effectively zero, even at the mean.</code></pre>
</section>
<section id="a-calculate-the-probability-that-a-value-randomly-drawn-from-our-d.-merriami-hindfoot-length-is-equal-to-your-visual-estimate-of-the-mode." class="level4">
<h4 class="anchored" data-anchor-id="a-calculate-the-probability-that-a-value-randomly-drawn-from-our-d.-merriami-hindfoot-length-is-equal-to-your-visual-estimate-of-the-mode.">16a) Calculate the probability that a value randomly drawn from our <em>D. merriami</em> hindfoot length is equal to your visual estimate of the <strong>mode</strong>.</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dnorm</span>(<span class="dv">36</span>, <span class="at">mean =</span> mean, <span class="at">sd =</span> sd)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2724175</code></pre>
</div>
</div>
</section>
<section id="b-from-these-results-do-your-visual-estimates-seem-accurate-why-or-why-not-do-you-think-that-is-1" class="level4">
<h4 class="anchored" data-anchor-id="b-from-these-results-do-your-visual-estimates-seem-accurate-why-or-why-not-do-you-think-that-is-1">16b) From these results do your visual estimates seem accurate? Why or why not do you think that is?</h4>
<pre><code>Yes, this result makes sense. Even though the mode represents the most common value visually, the probability of drawing any exact value from a continuous distribution is effectively zero. The histogram shows that values near the mode are common, not that the exact value itself has a high probability.</code></pre>
</section>
<section id="opinion-what-was-the-most-useful-and-least-useful-aspect-of-this-lab-assignment-why-is-that-the-case-for-you" class="level4">
<h4 class="anchored" data-anchor-id="opinion-what-was-the-most-useful-and-least-useful-aspect-of-this-lab-assignment-why-is-that-the-case-for-you">17) Opinion: what was the most useful and least useful aspect of this lab assignment? Why is that the case for you?</h4>
<pre><code>The most useful aspect of this lab was learning how to use group_by() and ungroup() correctly, as it clarified how grouped operations affect downstream calculations. The least useful aspect was calculating the probability of exact values in continuous distributions, since those probabilities are always extremely small and less informative than looking at ranges of values.</code></pre>
</section>
</section>
</section>
</section>
<section id="references" class="level1">
<h1>References</h1>
<section id="what-outside-sources-did-you-use-to-help-you-complete-this-work-including-books-forums-llms-etc.-describe-how-they-were-used" class="level4">
<h4 class="anchored" data-anchor-id="what-outside-sources-did-you-use-to-help-you-complete-this-work-including-books-forums-llms-etc.-describe-how-they-were-used">18) What outside sources did you use to help you complete this work (including books, forums, LLMs, etc.)? Describe how they were used:</h4>
<pre><code>This is exactly like what I did for Matt Dean's Field Mammology Course. In addition, if I encountered any roadblocks/did understand the message I was recieving I did honestly use ChatGPT to explain the meaning behind the message. </code></pre>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>